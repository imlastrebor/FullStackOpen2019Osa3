(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(13),u=t.n(l),i=t(3),o=t(2),c=t.n(o),m=function(){return c.a.get("/persons").then(function(e){return e.data})},s=function(e){return c.a.post("/persons",e).then(function(e){return e.data})},f=function(e){var n=e.text,t=e.mission;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:t}," ",n," "))},d=function(e){return e.filter.length>0?e.uniqueNames.filter(function(n){return n.name.toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())}).map(function(n){return r.a.createElement("li",{key:n.id},n.name," ",n.number," ",r.a.createElement(f,{text:"Delete",mission:function(){window.confirm("Haluatko varmasti poistaa henkil\xf6n ".concat(n.name," ?"))&&(c.a.delete("/persons/"+n.id),e.setErrorMessage("Henkil\xf6 ".concat(n.name," on poistettu listalta")),setTimeout(function(){e.setErrorMessage(null)},4e3))}}))}):e.unique.map(function(n){return r.a.createElement("li",{key:n.id},n.name," ",n.number," ",r.a.createElement(f,{text:"Delete",mission:function(){window.confirm("Haluatko varmasti poistaa henkil\xf6n ".concat(n.name," ?"))&&(c.a.delete("/persons/"+n.id),e.setErrorMessage("Henkil\xf6 ".concat(n.name," on poistettu listalta")),setTimeout(function(){e.setErrorMessage(null)},4e3))}}))})},E=function(e){return r.a.createElement("ul",null,r.a.createElement(d,{unique:e.unique,uniqueNames:e.uniqueNames,filter:e.filter,persons:e.persons,setErrorMessage:e.setErrorMessage}))},h=function(e){var n=e.field,t=e.content,a=e.handle;return r.a.createElement("div",null,n," ",r.a.createElement("input",{value:t,onChange:a}))},p=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(h,{field:e.fieldName,content:e.contentName,handle:e.handleName}),r.a.createElement(h,{field:e.fieldNumber,content:e.contentNumber,handle:e.handleNumber}),r.a.createElement(f,{text:e.text,mission:e.mission})))},b=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(h,{field:e.fieldFilter,content:e.contentFilter,handle:e.handleFilter})))},g=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},v=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],l=n[1],u=Object(a.useState)(""),o=Object(i.a)(u,2),f=o[0],d=o[1],h=Object(a.useState)("lis\xe4\xe4 nimi"),v=Object(i.a)(h,2),N=v[0],k=v[1],w=Object(a.useState)("lis\xe4\xe4 numero"),j=Object(i.a)(w,2),O=j[0],F=j[1],M=Object(a.useState)(null),q=Object(i.a)(M,2),x=q[0],H=q[1];Object(a.useEffect)(function(){m().then(function(e){l(e)})},[t]);var y=Array.from(new Set(t.map(function(e){return e.name}))).map(function(e){return t.find(function(n){return n.name===e})}),S=y.map(function(e){return e});return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(g,{message:x}),r.a.createElement(b,{text:"hae nimell\xe4",fieldFilter:"haku",contentFilter:f,handleFilter:function(e){d(e.target.value)}}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(p,{fieldName:"nimi",contentName:N,handleName:function(e){k(e.target.value)},fieldNumber:"numero",contentNumber:O,handleNumber:function(e){F(e.target.value)},text:"lis\xe4\xe4",mission:function(e){e.preventDefault();var n={name:N,number:O,id:t.length+Math.floor(100*Math.random())};l(t.concat(n)),d(""),k(""),F(""),t.find(function(e){return e.name===N})?window.confirm("Henkil\xf6 ".concat(N," on jo listalla. Korvataanko vanha numero uudella?"))&&(c.a.put("/persons/"+t.find(function(e){return e.name===N}).id,{name:"".concat(N),number:"".concat(O)}),console.log(),H("Henkil\xf6n ".concat(N," numero on p\xe4ivitetty")),setTimeout(function(){H(null)},4e3)):(s(n),H("Henkil\xf6 ".concat(N," lis\xe4tty listaan")),setTimeout(function(){H(null)},4e3))}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(E,{unique:y,uniqueNames:S,filter:f,persons:t,setErrorMessage:H}))};t(37);u.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.99fb1323.chunk.js.map