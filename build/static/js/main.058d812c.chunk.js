(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(41)},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),u=t(14),i=t.n(u),r=t(3),o=t(2),c=t.n(o),m=function(){return c.a.get("/persons").then(function(e){return e.data})},s=function(e){return c.a.post("/persons",e).then(function(e){return e.data})},f=function(e){var n=e.text,t=e.mission;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:t}," ",n," "))},d=function(e){return e.filter.length>0?e.uniqueNames.filter(function(n){return n.name.toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())}).map(function(n){return l.a.createElement("li",{key:n.id},n.name," ",n.number," ",l.a.createElement(f,{text:"Delete",mission:function(){window.confirm("Haluatko varmasti poistaa henkil\xf6n ".concat(n.name," ?"))&&(c.a.delete("/persons/"+n.id),e.setOkMessage("Henkil\xf6 ".concat(n.name," on poistettu listalta")),setTimeout(function(){e.setOkMessage(null)},4e3))}}))}):e.unique.map(function(n){return l.a.createElement("li",{key:n.id},n.name," ",n.number," ",l.a.createElement(f,{text:"Delete",mission:function(){window.confirm("Haluatko varmasti poistaa henkil\xf6n ".concat(n.name," ?"))&&(c.a.delete("/persons/"+n.id),e.setOkMessage("Henkil\xf6 ".concat(n.name," on poistettu listalta")),setTimeout(function(){e.setOkMessage(null)},4e3))}}))})},E=function(e){return l.a.createElement("ul",null,l.a.createElement(d,{unique:e.unique,uniqueNames:e.uniqueNames,filter:e.filter,persons:e.persons,setOkMessage:e.setOkMessage}))},h=function(e){var n=e.field,t=e.content,a=e.handle;return l.a.createElement("div",null,n," ",l.a.createElement("input",{value:t,onChange:a}))},p=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",null,l.a.createElement(h,{field:e.fieldName,content:e.contentName,handle:e.handleName}),l.a.createElement(h,{field:e.fieldNumber,content:e.contentNumber,handle:e.handleNumber}),l.a.createElement(f,{text:e.text,mission:e.mission})))},b=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",null,l.a.createElement(h,{field:e.fieldFilter,content:e.contentFilter,handle:e.handleFilter})))},g=function(e){var n=e.message;return null===n?null:l.a.createElement("div",{className:"notification"},n)},k=function(e){var n=e.message;return null===n?null:l.a.createElement("div",{className:"notificationErr"},n)},v=(t(37),function(){var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],u=n[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),f=o[0],d=o[1],h=Object(a.useState)("lis\xe4\xe4 nimi"),v=Object(r.a)(h,2),O=v[0],N=v[1],w=Object(a.useState)("lis\xe4\xe4 numero"),j=Object(r.a)(w,2),F=j[0],M=j[1],q=Object(a.useState)(null),x=Object(r.a)(q,2),H=x[0],S=x[1],y=Object(a.useState)(null),L=Object(r.a)(y,2),T=L[0],C=L[1];Object(a.useEffect)(function(){m().then(function(e){u(e)})},[t]);var D=Array.from(new Set(t.map(function(e){return e.name}))).map(function(e){return t.find(function(n){return n.name===e})}),J=D.map(function(e){return e});return l.a.createElement("div",null,l.a.createElement("h2",null,"Puhelinluettelo"),l.a.createElement(g,{message:T}),l.a.createElement(k,{message:H}),l.a.createElement(b,{text:"hae nimell\xe4",fieldFilter:"haku",contentFilter:f,handleFilter:function(e){d(e.target.value)}}),l.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),l.a.createElement(p,{fieldName:"nimi",contentName:O,handleName:function(e){N(e.target.value)},fieldNumber:"numero",contentNumber:F,handleNumber:function(e){M(e.target.value)},text:"lis\xe4\xe4",mission:function(e){e.preventDefault();var n={name:O,number:F,id:t.length+Math.floor(100*Math.random())};u(t.concat(n)),d(""),N(""),M(""),t.find(function(e){return e.name===O})?window.confirm("Henkil\xf6 ".concat(O," on jo listalla. Korvataanko vanha numero uudella?"))&&(c.a.put("/persons/"+t.find(function(e){return e.name===O}).id,{name:"".concat(O),number:"".concat(F)}),console.log(),C("Henkil\xf6n ".concat(O," numero on p\xe4ivitetty")),setTimeout(function(){C(null)},4e3)):s(n).then(function(e){u(t.concat(e)),C("Henkil\xf6 ".concat(O," lis\xe4tty listaan")),setTimeout(function(){C(null)},4e3)}).catch(function(e){S(e.response.data.error),setTimeout(function(){S(null)},4e3)})}}),l.a.createElement("h2",null,"Numerot"),l.a.createElement(E,{unique:D,uniqueNames:J,filter:f,persons:t,setOkMessage:C}))});t(40);i.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.058d812c.chunk.js.map